# Dockerとは
- 主要なCaaS（Containers as a Service）プラットフォーム

## Dockerを使うとなにがうれしい？
### For Developers
- 開発者にとっての退屈な作業（開発環境のセットアップや設定）を自動化できるため、開発者はソフトウェアをどうやってより良いものにするかにフォーカスできる
 - 例えばデータベースの複雑な設定をしなくてよいし、互換性のない言語のツールチェーンを切り替えることにストレスを感じなくてよい
- 依存関係はきれいにパッケージ化されたDockerイメージとして取得されるため、Dockerとエディタをインストールしたユーザーは誰でも簡単にアプリケーションをビルドしてデバッグできる
　 - つまり「it works on my machine」問題を排除できる

### For Ops
- ソフトウェアデリバリーを能率化できる
 - バグフィクスや新機能の追加をダウンタイムなしで適用できる
 - リアルタイムでのスケーリングが可能になる

### For Enterprise
- よくわかりませんでした

## Dockerの構成要素

### imageとは
- コード、ランタイム、ライブラリ、環境変数、設定ファイルなど、ソフトウェアを実行するために必要なすべてを含む、軽量でスタンドアロンの実行可能パッケージ

### Containerとは
- コンテナはイメージのランタイムインスタンス
- イメージが実際に実行されたときにメモリに格納される
- コンテナは、ホストマシンのカーネルにネイティブでアプリを実行する
 - ハイパーバイザーを介してホストリソースへの仮想アクセスのみを取得する仮想マシンよりも優れたパフォーマンス特性を備える

## コンテナとVMの比較
### VM
![Virtual Machine diagram](https://www.docker.com/sites/default/files/VM%402x.png)
- 仮想マシンはリソースを大量に消費する
- 一時記憶が絡み合っているため、複製が困難

### コンテナ
![Container diagram](https://www.docker.com/sites/default/files/Container%402x.png)
- コンテナは単一のカーネルを共有することができ、コンテナイメージ内にある必要がある情報は、実行可能ファイルとそのパッケージの依存関係だけ

## Dockerfileの書き方
### FROM
#### 構文
##### ``` FROM <image名[:タグ]> ``` 
- 元となるイメージを指定する

### RUN
- イメージ作成時に実行するコマンドを指定する
- バッククオートを使用して複数行にまたがって書くことができる
- 各コマンドの終わりにはセミコロンが必要
#### 構文
##### RUN ``` <コマンド> ```

### CMD
- 作成したイメージを起動する時に実行するコマンドを指定する
#### 構文
##### ``` CMD ["実行バイナリ", "パラメータ1", "パラメータ2"] ```
- シェルを使用せずに実行する
- 引数はダブルクオートで囲まなければならない
- シェルを使用しないため、引数に変数を使用したい場合は``` CMD [ "sh", "-c", "echo", "$HOME" ] ``` のようにシェルを噛ませる必要がある
- コマンドを実行したい場合は、```CMD [ "/usr/bin/wc", "--help" ]``` のように、絶対パスで指定する必要がある
##### CMD <コマンド> # シェルを経由して実行される


### 

